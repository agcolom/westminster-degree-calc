(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3066:(e,t,r)=>{Promise.resolve().then(r.bind(r,6439))},6439:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var a=r(5155),l=r(2115),s=r(3463),i=r(9795);function d(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,s.$)(t))}let n=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",r),...l})});n.displayName="Card";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",r),...l})});c.displayName="CardHeader";let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("h3",{ref:t,className:d("text-lg font-semibold leading-none tracking-tight",r),...l})});o.displayName="CardTitle",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("p",{ref:t,className:d("text-sm text-muted-foreground",r),...l})}).displayName="CardDescription";let u=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:d("p-6 pt-0",r),...l})});u.displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:d(" flex items-center p-6 pt-0",r),...l})}).displayName="CardFooter";let m=l.forwardRef((e,t)=>{let{className:r,type:l,...s}=e;return(0,a.jsx)("input",{type:l,className:d("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});m.displayName="Input";var f=r(2317),x=r(1027);let h=(0,x.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=l.forwardRef((e,t)=>{let{className:r,variant:l,size:s,asChild:i=!1,...n}=e,c=i?f.DX:"button";return(0,a.jsx)(c,{className:d(h({variant:l,size:s,className:r})),ref:t,...n})});g.displayName="Button";var v=r(6195);let b=(0,x.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(v.b,{ref:t,className:d(b(),r),...l})});p.displayName=v.b.displayName;var N=r(1214);let k=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsxs)(N.bL,{ref:t,className:"relative flex w-full touch-none select-none items-center ".concat(r),...l,children:[(0,a.jsx)(N.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-slate-200 dark:bg-slate-800",children:(0,a.jsx)(N.Q6,{className:"absolute h-full bg-slate-900 dark:bg-slate-100"})}),(0,a.jsx)(N.zi,{className:"block h-5 w-5 rounded-full border-2 border-slate-900 bg-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:border-slate-100 dark:bg-slate-900"})]})});k.displayName=N.bL.displayName;var y=r(5524),w=r(8482),j=r(6535),C=r(7293),L=r(2645);let S=C.bL,M=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(C.q7,{ref:t,className:d("border-b",r),...l})});M.displayName="AccordionItem";let I=l.forwardRef((e,t)=>{let{className:r,children:l,...s}=e;return(0,a.jsx)(C.Y9,{className:"flex",children:(0,a.jsxs)(C.l9,{ref:t,className:d("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...s,children:[l,(0,a.jsx)(L.A,{className:"h-4 w-4 transition-transform duration-200"})]})})});I.displayName=C.l9.displayName;let _=l.forwardRef((e,t)=>{let{className:r,children:l,...s}=e;return(0,a.jsx)(C.UC,{ref:t,className:d("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",r),...s,children:(0,a.jsx)("div",{className:"pb-4 pt-0",children:l})})});_.displayName=C.UC.displayName;let R=(e,t)=>Array(t).fill(null).map((t,r)=>({name:"",credits:"20",mark:"0",id:"".concat(e,"-module-").concat(r+1)})),A=e=>"border-[hsl(".concat(e<=40?.75*e:e<=70?30+(e-40)*3:120+(e-70)*4,"_").concat(60,"%_").concat(65,"%)]"),F=e=>{let t=e<=40?.75*e:e<=70?30+(e-40)*3:120+(e-70)*4;return"text-[hsl(".concat(t,"_50%_35%)] dark:text-[hsl(").concat(t,"_40%_65%)]")};function E(){let[e,t]=(0,l.useState)({level5:R("level5",6),level6:R("level6",6)}),[r,s]=(0,l.useState)(""),[i,d]=(0,l.useState)(""),[f,x]=(0,l.useState)("light");(0,l.useEffect)(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches&&(x("dark"),document.body.classList.add("dark"))},[]);let h=(e,r)=>{t(t=>{let a=t[e].filter(e=>e.id!==r).map((t,r)=>({...t,id:"".concat(e,"-module-").concat(r+1)}));return{...t,[e]:a}})},v=e=>{t(t=>({...t,[e]:[...t[e],{name:"",credits:"20",mark:"0",id:"".concat(e,"-module-").concat(t[e].length+1)}]}))},b=()=>{var r,a;d("");let l=e=>e.filter(e=>""!==e.mark&&!isNaN(Number(e.mark))&&""!==e.credits&&!isNaN(Number(e.credits))&&Number(e.mark)>=40).map(e=>({...e,mark:Number(e.mark),credits:Number(e.credits)})),i=l(e.level5),n=l(e.level6),c=i.reduce((e,t)=>e+t.credits,0),o=n.reduce((e,t)=>e+t.credits,0),u=c+o;if(u<240){d("Insufficient passing credits (".concat(u,"/240). You need 240 credits with marks of 40% or higher."));return}if(o<120){d("Insufficient passing Level 6 credits (".concat(o,"/120). You need at least 120 credits at Level 6 with marks of 40% or higher."));return}if(0===i.length||0===n.length){d("Please enter at least one passing module (40% or higher) with credits and mark for each level");return}let m=e=>e.map(e=>({...e,isIncluded:!1})),f=m(i),x=m(n),h=Math.min(...f.map(e=>e.mark)),g=Math.min(...x.map(e=>e.mark)),v=f.filter(e=>e.mark===h),b=x.filter(e=>e.mark===g),p=e=>{let t=[...f,...x],r="",a=0,l="",s=0,i=t.reduce((e,t)=>e+t.credits,0)-220;if(e&&v.length>0){let e=v[0];if(l=e.name||"Level 5 module (".concat(e.mark,"%)"),s=e.mark,i<e.credits){let r=Math.min(i,e.credits>20?e.credits-20:i);t=t.map(t=>t.id===e.id?{...t,credits:e.credits-r,isIncluded:!0}:t),a=r}else t=t.filter(t=>t.id!==e.id),r=e.id,a=e.credits}else if(!e&&b.length>0){let e=b[0];if(l=e.name||"Level 6 module (".concat(e.mark,"%)"),s=e.mark,i<e.credits){let r=Math.min(i,e.credits>20?e.credits-20:i);t=t.map(t=>t.id===e.id?{...t,credits:e.credits-r,isIncluded:!0}:t),a=r}else t=t.filter(t=>t.id!==e.id),r=e.id,a=e.credits}t.forEach(e=>{e.isIncluded=!0});let d=t.filter(e=>f.includes(e)),n=t.filter(e=>x.includes(e)),c=d.reduce((e,t)=>e+t.credits,0),o=n.reduce((e,t)=>e+t.credits,0),u=d.reduce((e,t)=>e+t.mark*t.credits,0),m=n.reduce((e,t)=>e+t.mark*t.credits,0);return{indicatorScore:Math.round(1/3*(u/c)+2/3*(m/o)),adjustedLevel5:d,adjustedLevel6:n,level5TotalCredits:c,level6TotalCredits:o,level5WeightedSum:u,level6WeightedSum:m,excludedModuleId:r,excludedCredits:a,excludedModuleName:l,excludedModuleMark:s}},N=p(!0),k=p(!1),y=N.indicatorScore>=k.indicatorScore?N:k,w=N.indicatorScore>=k.indicatorScore;t(e=>({level5:e.level5.map(e=>{var t,r;return{...e,isIncluded:e.id!==y.excludedModuleId,partiallyExcluded:e.id===y.excludedModuleId&&y.excludedCredits<((null===(t=v[0])||void 0===t?void 0:t.credits)||(null===(r=b[0])||void 0===r?void 0:r.credits)||0)}}),level6:e.level6.map(e=>{var t,r;return{...e,isIncluded:e.id!==y.excludedModuleId,partiallyExcluded:e.id===y.excludedModuleId&&y.excludedCredits<((null===(t=v[0])||void 0===t?void 0:t.credits)||(null===(r=b[0])||void 0===r?void 0:r.credits)||0)}})}));let j="";j=y.indicatorScore>=70?"First Class Honours (1st)":y.indicatorScore>=60?"Second Class Honours Upper Division (2:1)":y.indicatorScore>=50?"Second Class Honours Lower Division (2:2)":y.indicatorScore>=40?"Third Class Honours (3rd)":"Fail",s(["Indicator Score: ".concat(y.indicatorScore,"%"),"Classification: ".concat(j),"\nDetails:","Level 5 (Year 2) Average: ".concat((y.level5WeightedSum/y.level5TotalCredits).toFixed(2),"%"),"Level 6 (Year 3) Average: ".concat((y.level6WeightedSum/y.level6TotalCredits).toFixed(2),"%"),"\nCalculation Method:","Used ".concat(w?"Level 5":"Level 6"," exclusion method (better result)"),"Provisional Score 1 (exclude L5): ".concat(N.indicatorScore,"%"),"Provisional Score 2 (exclude L6): ".concat(k.indicatorScore,"%"),y.excludedModuleName?"\nNote: ".concat(y.excludedCredits<((null===(r=v[0])||void 0===r?void 0:r.credits)||(null===(a=b[0])||void 0===a?void 0:a.credits)||0)?"".concat(y.excludedCredits," credits from the ").concat(y.excludedModuleName," (").concat(y.excludedModuleMark,"%) are not included"):"The ".concat(y.excludedModuleName," (").concat(y.excludedModuleMark,"%) is not included")," in the best 220 credits used for your classification."):""].join("\n"))},N=(e,a,l,n)=>{t(t=>{let c={...t,[e]:t[e].map((e,t)=>t===a?{...e,[l]:n}:e)};return("mark"===l||"credits"===l)&&(r||i)&&setTimeout(()=>{let e=Object.values(c).flat().filter(e=>""!==e.mark&&!isNaN(Number(e.mark))&&""!==e.credits&&!isNaN(Number(e.credits))&&Number(e.mark)>=40).reduce((e,t)=>e+Number(t.credits),0),t=c.level6.filter(e=>""!==e.mark&&!isNaN(Number(e.mark))&&""!==e.credits&&!isNaN(Number(e.credits))&&Number(e.mark)>=40).reduce((e,t)=>e+Number(t.credits),0);e<240?(d("Insufficient passing credits (".concat(e,"/240). You need 240 credits with marks of 40% or higher.")),s("")):t<120?(d("Insufficient passing Level 6 credits (".concat(t,"/120). You need at least 120 credits at Level 6 with marks of 40% or higher.")),s("")):(d(""),b())},0),c})},C=t=>{let r=e[t].filter(e=>""!==e.credits&&!isNaN(Number(e.credits))&&""!==e.mark&&!isNaN(Number(e.mark))&&Number(e.mark)>=40).reduce((e,t)=>e+Number(t.credits),0),l="level6"===t?120:"any",s="level6"!==t||r>=120;return(0,a.jsxs)("div",{className:"text-sm font-medium ".concat(s?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["Total Credits: ",r," ","any"!==l&&"/ ".concat(l),r>0&&(0,a.jsx)("span",{className:"text-xs ml-1",children:"(passing modules only)"})]})},L=(t,r)=>(0,a.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold tracking-tight",children:r.split(" - ")[0]}),C(t)]}),(0,a.jsxs)("div",{className:"space-y-4",children:[e[t].map((e,r)=>{let l=Number(e.mark||"0"),s=A(l),i=F(l);return(0,a.jsxs)("div",{className:"p-3 border-2 rounded-lg relative transition-colors overflow-hidden",suppressHydrationWarning:!0,children:[(!1===e.isIncluded||e.partiallyExcluded)&&(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,a.jsx)("div",{className:"absolute top-1 left-1/2 -translate-x-1/2 bg-background/95 dark:bg-background/95 px-2 py-0.5 text-xs font-medium shadow-sm rounded-full",children:!1===e.isIncluded?"Not included in best 220":"Partially not included in best 220"})}),(0,a.jsxs)("div",{className:"".concat(!1===e.isIncluded?"opacity-50":e.partiallyExcluded?"opacity-75":""),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 xs:grid-cols-[2fr,auto,auto] gap-2 flex-grow",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(p,{htmlFor:"".concat(e.id,"-name"),className:"text-sm font-medium ".concat(i),children:"Module Name/Code"}),(0,a.jsx)(m,{id:"".concat(e.id,"-name"),value:e.name,onChange:e=>N(t,r,"name",e.target.value),placeholder:"e.g., CS101",className:"h-8 w-full min-w-[10ch] ".concat(s)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(p,{htmlFor:"".concat(e.id,"-credits"),className:"text-sm font-medium ".concat(i),children:"Credits"}),(0,a.jsx)(m,{id:"".concat(e.id,"-credits"),type:"number",min:"0",max:"120",step:"20",value:e.credits,onChange:e=>N(t,r,"credits",e.target.value),placeholder:"20",className:"h-8 w-16 ".concat(s)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(p,{htmlFor:"".concat(e.id,"-mark-input"),className:"text-sm font-medium ".concat(i),children:"Mark"}),(0,a.jsx)(m,{id:"".concat(e.id,"-mark-input"),type:"number",min:"0",max:"100",step:"0.1",value:e.mark,onChange:e=>N(t,r,"mark",e.target.value),className:"w-20 h-8 text-sm ".concat(s)})]})]}),(0,a.jsx)(g,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-red-600 dark:text-gray-600 dark:hover:text-red-400 h-8 w-8",onClick:()=>h(t,e.id),children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(k,{id:"".concat(e.id,"-mark-slider"),min:0,max:100,step:.1,value:[l],onValueChange:e=>{N(t,r,"mark",e[0].toString())},className:"[&_[role=slider]]:!bg-white dark:[&_[role=slider]]:!bg-slate-50 [&_.absolute.h-full]:!bg-current",style:{color:"hsl(".concat(l<=40?.75*l:l<=70?30+(l-40)*3:120+(l-70)*4," 70% 45%)")}})})]})]},e.id)}),(0,a.jsx)(g,{variant:"outline",className:"w-full",onClick:()=>v(t),children:"Add Module"})]})]});return(0,a.jsx)("main",{className:"min-h-screen p-4 md:p-8 bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-slate-200 transition-colors",suppressHydrationWarning:!0,children:(0,a.jsxs)(n,{className:"max-w-7xl mx-auto relative shadow-lg bg-white dark:bg-slate-900",suppressHydrationWarning:!0,children:[(0,a.jsx)(g,{variant:"ghost",size:"icon",className:"absolute right-4 top-4 text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100",onClick:()=>{x(e=>{let t="light"===e?"dark":"light";return"dark"===t?document.body.classList.add("dark"):document.body.classList.remove("dark"),t})},children:"light"===f?(0,a.jsx)(w.A,{className:"h-5 w-5"}):(0,a.jsx)(j.A,{className:"h-5 w-5"})}),(0,a.jsxs)(c,{children:[(0,a.jsx)(o,{className:"text-4xl font-bold tracking-tight",children:"Degree Classification Calculator"}),(0,a.jsx)(S,{type:"single",collapsible:!0,className:"w-full",children:(0,a.jsxs)(M,{value:"about",children:[(0,a.jsx)(I,{className:"text-lg",children:"About"}),(0,a.jsx)(_,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-lg leading-relaxed",children:"Enter your module details for Level 5 and Level 6. You need at least 240 credits in total, with a minimum of 120 credits at Level 6. The calculator will determine the best 220 credits by calculating two provisional scores: one excluding the lowest Level 5 module, and one excluding the lowest Level 6 module. The higher score becomes your final classification, with Level 5 weighted one-third and Level 6 weighted two-thirds."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Developed by Anne-Gaelle Colom, University of Westminster"})]})})]})})]}),(0,a.jsx)(u,{children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[L("level5","Level 5 Modules"),L("level6","Level 6 Modules")]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)(g,{onClick:b,className:"w-full max-w-xs text-lg font-semibold",variant:"outline",size:"lg",children:"Calculate Classification"}),(0,a.jsx)(g,{onClick:()=>{t({level5:R("level5",6),level6:R("level6",6)}),s(""),d("")},className:"w-full max-w-xs text-lg font-semibold",variant:"outline",size:"lg",children:"Reset All"})]}),i&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-center font-medium",children:i}),r&&!i&&(0,a.jsx)("div",{className:"mt-4 p-4 rounded-lg text-center font-medium whitespace-pre-line ".concat(r.includes("First Class")?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":r.includes("Upper Division")?"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400":r.includes("Lower Division")?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400":r.includes("Third Class")?"bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400":"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400"),children:r})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[382,441,517,358],()=>t(3066)),_N_E=e.O()}]);